---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description?: string;
  districtId: string;
  districtName: string;
  buildingId: string;
}

const { title, description, districtId, districtName, buildingId } = Astro.props;
---

<BaseLayout title={title} description={description}>
  <div class="building-wrapper" data-district={districtId} data-building={buildingId}>
    <header class="building-header">
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <ol>
          <li><a href="/">City</a></li>
          <li><a href={`/${districtId}`}>{districtName}</a></li>
          <li aria-current="page">{title}</li>
        </ol>
      </nav>
      <h1 class="building-title">{title}</h1>
      {description && <p class="building-description">{description}</p>}
    </header>
    
    <main class="building-main">
      <div class="building-cutaway">
        <slot name="cutaway" />
      </div>
      
      <div class="floor-list">
        <slot />
      </div>
    </main>
  </div>
</BaseLayout>

<style>
  .building-wrapper {
    min-height: 100vh;
    padding: var(--container-padding);
  }
  
  .building-header {
    padding-top: var(--space-8);
    margin-bottom: var(--space-8);
  }
  
  .breadcrumb ol {
    display: flex;
    gap: var(--space-2);
    list-style: none;
    padding: 0;
    margin-bottom: var(--space-4);
    font-size: var(--text-sm);
    color: var(--text-secondary);
  }
  
  .breadcrumb li:not(:last-child)::after {
    content: '/';
    margin-left: var(--space-2);
    color: var(--text-muted);
  }
  
  .breadcrumb a {
    color: var(--text-link);
  }
  
  .building-title {
    margin-bottom: var(--space-2);
  }
  
  .building-description {
    color: var(--text-secondary);
    font-size: var(--text-lg);
    max-width: var(--max-w-2xl);
  }
  
  .building-main {
    display: grid;
    gap: var(--space-8);
  }
  
  @media (min-width: 1024px) {
    .building-main {
      grid-template-columns: 300px 1fr;
    }
  }
  
  .building-cutaway {
    /* Container for the building cutaway visualization */
    background: var(--surface-default);
    border-radius: var(--radius-xl);
    padding: var(--space-4);
    border: 1px solid var(--border-subtle);
  }
  
  .floor-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }
</style>
